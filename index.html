<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="UTF-8">
        <meta name="viewpoint" content="width=device-width,initial-scale=1.0">
        <title>Á•ùÁ¶èÂ¢ô</title>
        <style>
            * {
                padding:0;
                margin:0;
                box-sizing: border-box;
            }
            body {
                background-color: antiquewhite;
                display:flex;
                flex-direction: column;
                align-items: center;
                padding:20px;
                color:#333;
            }
            .container {
                width:100%;
                max-width: 1000px;
                display: flex;
                flex-direction: column;
                align-items: center;
            }
            h1 {
                font-size:2.5rem;
                color:black;
                text-shadow: 2px 2px 4px grey;
            }
            .subtitle{
                font-size: 1.5rem;
                color:coral;
            }
            .decoration{
                position:absolute;
                width:90%;
                height:85%;
                top:5%;
                left:2.5%;
                pointer-events: none;
                z-index:1;

            }
            .decoration2{
                position:absolute;
                width:90%;
                height:85%;
                top:5%;
                left:5%;
                pointer-events: none;
                z-index:1;
            }
            .decoration-heart{
                position:absolute;
                color:rgba(255, 107, 107,0.2);
                font-size:25px;
                animation:float 6s ease-in-out infinite;
                z-index:1;
            }
            .decoration-heart2{
                position:absolute;
                color:rgba(255, 107, 107,0.2);
                font-size:25px;
                animation:float2 6s ease-in-out infinite;
                z-index:1;
            }

             .decoration-heart:nth-child(1){
                top:15%;
                left:14%;
                animation-delay:0s;
             }
             .decoration-heart:nth-child(2){
                top:35%;
                left:8%;
                animation-delay:1s;
             }
             .decoration-heart:nth-child(3){
                top:50%;
                left:15%;
                animation-delay:0s;
             }
             .decoration-heart:nth-child(4){
                top:75%;
                left:2%;
                animation-delay:3s;
             }
             .decoration-heart:nth-child(5){
                top:13%;
                left:87%;
                animation-delay:0s;
             }
             .decoration-heart:nth-child(6){
                top:56%;
                left:95%;
                animation-delay:1s;
             }
             .decoration-heart:nth-child(7){
                top:78%;
                left:98%;
                animation-delay:0s;
             }
             .decoration-heart2:nth-child(1){
                top:5%;
                left:3%;
                animation-delay:0s;
             }
             .decoration-heart2:nth-child(2){
                top:85%;
                left:10%;
                animation-delay:1s;
             }
             .decoration-heart2:nth-child(3){
                top:25%;
                left:14%;
                animation-delay:0s;
             }
             .decoration-heart2:nth-child(4){
                top:67%;
                left:9%;
                animation-delay:3s;
             }
             .decoration-heart2:nth-child(5){
                top:7%;
                left:98%;
                animation-delay:0s;
             }
             .decoration-heart2:nth-child(6){
                top:69%;
                left:90%;
                animation-delay:1s;
             }
             .decoration-heart2:nth-child(7){
                top:44%;
                left:84%;
                animation-delay:0s;
             }
             .decoration-heart2:nth-child(8){
                top:97%;
                left:87%;
                animation-delay:3s;
             }
            .confetti {
                position: fixed;     
                width: 10px;         
                height: 10px;       
                background-color: #ff6b6b; 
                opacity: 0;          
                pointer-events: none; 
            }
            .effect-image {
                position: fixed;
                z-index: 1000;
                pointer-events: none;
                max-width: 200px;
                max-height: 200px;
                animation: popInOut 3s ease-in-out forwards;
            }

             @keyframes float{
                0%{
                    transform:translateY(0) rotate(0deg);
                }
                25%{
                    transform: translateY(-20px) rotate(10deg);
                }
                100%{
                    transform:translateY(0) rotate(0deg);
                }
             }
             @keyframes float2{
                0%{
                    transform:translateY(0) rotate(0deg);
                }
                50%{
                    transform: translateY(-20px) rotate(-10deg);
                }
                100%{
                    transform:translateY(0) rotate(0deg);
                }
             }
                
              @keyframes float3{
                0%{
                    transform:translateY(0);
                }
                50%{
                    transform: translateY(-5px);
                }
                100%{
                    transform:translateY(0);
                }
             }
             .card-container{
                width:100%;
                background-color: white;
                border-radius: 20px;
                padding:30px;
                margin-bottom:30px;
                position:relative;
                box-shadow: 0 10px 30px rgba(0,0,0,0.1);
             }
             .card-head{
                display:flex;
                justify-content:space-between;
                align-items: center;
                margin-bottom: 25px;
                padding-bottom: 15px;
                border-bottom: 2px dashed #eaeaea;

             }
             .card-title{
                font-size:1.5rem;
                color:rgb(130, 92, 60)
             }
             .participant{
                background-color: red;
                color:white;
                padding:5px 15px;
                border-radius: 20px;
             }
             .card-content{
                min-height:400px;
                padding:20px;
                border-radius: 15px;
                margin-bottom:25px;
                position:relative;
                overflow: auto;
                max-height:400px;
             }
             .message{
                background-color:white;
                border-radius: 10px;
                padding:15px;
                margin-bottom: 15px;
                box-shadow: 0 3px 10px rgba(0,0,0,0.5);
                border:4px solid #ffb5b5;
                position:relative;
                transition-duration: 0.2s;
                transition-timing-function: ease-in-out;

             }
             .message:hover{
                transform: translateY(-5px);
             }
             .message-head{
                display:flex;
                justify-content: space-between;
                margin-bottom: 10px;
                font-size:1rem;
             }
             .sender{
                font-weight:bold ;
                color:#ffb5b5
             }
             .message-content{
                line-height:1.5;
             }
             .timestamp{
                color:#aaa;
             }
             .input-area{
                width:100%;
                display: flex;
                flex-direction: column;;
             }
             .input-row{
                display:flex;
                margin-bottom: 15px;
                gap:10px
             }
             .img-container{
                position:absolute;
                width:90%;
                height:85%;
                top:5%;
                left:5%;
                pointer-events: none;
             }
             .img2-container{
                position:absolute;
                width:90%;
                height:85%;
                top:5%;
                left:5%;
                pointer-events: none;
             }
             .img{
                position: absolute;
                width: 200px;
                animation: float3 3s ease-in-out infinite;
                transition: transform 6s ease-in-out;
                z-index: 10;
                pointer-events: auto;
                cursor: pointer;
             }
             .img2{
                position: absolute;
                width: 200px;
                animation: float3 3s ease-in-out infinite;
                transition: transform 6s ease-in-out;
                z-index: 10;
                pointer-events: auto;
                cursor: pointer;
             }
             .img:hover{
                 animation: hoverEffect 0.5s ease-in-out forwards !important;
            }
            .img2:hover{
                 animation: hoverEffect2 0.5s ease-in-out forwards !important;
            }


             .img:nth-child(1){
                top:55%;
                left:90%;
             }
             .img:nth-child(2){
                top:10%;
                left:83%;
             }
             .img2:nth-child(1){
                top:80%;
                left:0.5%;
             }
             .img2:nth-child(2){
                top:25%;
                left: 3.75%;
             }
             input,textarea{
                padding:12px 15px;
                border:2px solid #eaeaea;
                border-radius: 10px;
                font-size:1rem;
                transition: border 0.3s;
             }
             input:focus,textarea:focus{
                border: color #ffb5b5;
                outline:none;
             }
             input{
                flex:1;
             }
             textarea{
                width:100%;
                height:100%;
                resize:none;
                margin-bottom: 15px;
                
             }
             footer{
                text-align:center;
                margin-top:20px;
                color:#888;
                font-size:1rem;

             }
             .button{
                background-color: #ffb5b5;
                color:white;
                border:none;
                padding:10px 25px;
                border-radius: 10px;
                font-size: 1rem;
                cursor:pointer;
                transition:all 0.3s;
                display: flex;
                align-items: center;
                justify-content: center;
                gap:10px;
             }
             .button:hover{
                background-color: #a36161;
                transform: translateY(-2px);
                box-shadow: 0 5px 15px rgba(255,107,107,0.3);
             }
             .button:active{
                transform: translateY(0);
             }
             .button-share{
                background-color: #7d6e6e;
                 border:none;
                margin-top:15px;
                padding:10px 25px;
                border-radius: 10px;
                font-size: 1rem;
                cursor:pointer;
                transition:all 0.3s;
                display: flex;
                align-items: center;
                justify-content: center;
                gap:10px;
             }
             .button-share:hover{
                background-color: #493b3b;
             }
            @keyframes fadeIn {
            from { 
                opacity: 0; 
                transform: translateY(10px);
            }
            to { 
                opacity: 1; 
                transform: translateY(0);
            }
        }
        @keyframes hoverEffect {
            0% {
                transform: scale(1) rotate(0deg);
            }
            100% {
                transform: scale(1.05) rotate(-5deg);
            }
        }
        @keyframes hoverEffect2 {
            0% {
                transform: scale(1) rotate(0deg);
            }
            100% {
                transform: scale(1.05) rotate(5deg);
            }
        }
        @keyframes popInOut {
            0% { 
                opacity: 0; 
            }
            50% { 
                opacity: 1; 
            }
            100% {
                opacity: 0;
            }
        }
        </style>
    </head>
     <body>
        <div class="container">
            <h1>Á•ùÁ¶èÂ¢ô</h1>
            <p class="subtitle"><strong>‚ú¶ÊãæÂÖâÊöñÂøÜ Ê∏©ÊöñÂêåË°å‚ú¶</strong></p>
            <div class="card-container">
                <div class="card-head">
                    <div class="card-title">Êàë‰ª¨ÁöÑÁ•ùÁ¶è</div>
                    <div class="participant">ÂèÇ‰∏éËÄÖÔºö<span id="count"></span> </div>
                </div>

                <div class="card-content" id="message-container">
                    <div class="message">
                        <div class="message-head">
                            <span class="sender">‰æãÂè•</span>
                            <span class="timestamp">------</span>
                        </div>
                        <div class="message-content">
                            ÊÑøÊàë‰ª¨Êê∫ÊâãÂÖ±ËøõÔºåÂÖ±Ëµ¥ÁæéÂ•ΩÊú™Êù•
                        </div>
                    </div>
                </div>
                <div class="input-area">
                    <div class="input-row">
                        <input type="text" id="sender-name" placeholder="‰Ω†ÁöÑÂêçÂ≠óÔºàÂèØÂåøÂêçÔºâ">
                    </div>
                    <textarea id="message-text" placeholder="ÂÜô‰∏ã‰Ω†ÁöÑÁ•ùÁ¶èÊàñÊÑüË∞¢..."></textarea>
                    <button class="button" id="send-button">
                        <span>‰º†ÈÄíÊ∏©ÊöñÂÖ≥ÊÄÄ</span>
                        <span>‚ù§</span>
                    </button>
                    <button class="button-share" id="share-button">
                        <span>ÂàÜ‰∫´ÁΩëÁ´ô</span>
                        <span>üì§</span>
                    </button>
                </div>
            </div>
            <div class="decoration">
                <div class="decoration-heart">‚ù§</div>
                <div class="decoration-heart">‚ù§</div>
                <div class="decoration-heart">‚ù§</div>
                <div class="decoration-heart">‚ù§</div>
                <div class="decoration-heart">‚ù§</div>
                <div class="decoration-heart">‚ù§</div>
                <div class="decoration-heart">‚ù§</div>
                
            </div>
             <div class="decoration2">
                <div class="decoration-heart2">‚ù§</div>
                <div class="decoration-heart2">‚ù§</div>
                <div class="decoration-heart2">‚ù§</div>
                <div class="decoration-heart2">‚ù§</div>
                <div class="decoration-heart2">‚ù§</div>
                <div class="decoration-heart2">‚ù§</div>
                <div class="decoration-heart2">‚ù§</div>
                <div class="decoration-heart2">‚ù§</div>
                
            </div>
            <div class="img-container">
                <img class="img" src="img/1.png" />
                <img class="img" src="img/2.png" />
            </div>
            <div class="img2-container">
                <img class="img2" src="img/3.png" />
                <img class="img2" src="img/4.png" />
            </div>
                <footer>
                    <p>Ê∏©ÊöñÈõÜ‰Ωì¬∑‰º†ÈÄíÂÖ≥ÊÄÄ | ËÆ°ÁÆóÊú∫ÁßëÂ≠¶‰∏éÊäÄÊúØÂ≠¶Èô¢</p>
                </footer>
        </div>
        <audio id="sound1" preload="auto">
            <source src="sounds/success.wav" type="audio/wav">
        </audio>
        <audio id="sound2" preload="auto">
            <source src="sounds/success2.wav" type="audio/wav">
        </audio>
        <audio id="sound3" preload="auto">
            <source src="sounds/success3.wav" type="audio/wav">
        </audio>
        <audio id="sound4" preload="auto">
            <source src="sounds/success4.wav" type="audio/wav">
        </audio>
        <audio id="sound5" preload="auto">
            <source src="sounds/success5.wav" type="audio/wav">
        </audio>
        <audio id="sound6" preload="auto">
            <source src="sounds/success6.wav" type="audio/wav">
        </audio>
        <audio id="sound7" preload="auto">
            <source src="sounds/success7.wav" type="audio/wav">
        </audio>
        <audio id="sound8" preload="auto">
            <source src="sounds/success8.wav" type="audio/wav">
        </audio>
        <script>
            document.addEventListener('DOMContentLoaded',function(){
                const messageContainer = document.getElementById('message-container');
                const senderNameInput = document.getElementById('sender-name');
                const messageTextInput = document.getElementById('message-text');
                const sendButton = document.getElementById('send-button')
                const shareButton = document.getElementById('share-button');
                const participantCount = document.getElementById('count');

                let participantCountValue = 0;
                participantCount.textContent = participantCountValue;

                const imagePaths = [
                    'img2/send.png',
                    'img2/send2.png',
                    'img2/send3.png',
                    'img2/send4.png',
                    'img2/send5.png',
                    'img2/send6.png',
                    'img2/send7.png',
                    'img2/send8.png',
                ];

                const soundEffects = [
                    document.getElementById('sound1'),
                    document.getElementById('sound2'),
                    document.getElementById('sound3'),
                    document.getElementById('sound4'),
                    document.getElementById('sound5'),
                    document.getElementById('sound6'),
                    document.getElementById('sound7'),
                    document.getElementById('sound8')
                ];

                function playRandomEffect() {
                    const randomImageIndex = Math.floor(Math.random() * imagePaths.length);
                    const selectedImagePath = imagePaths[randomImageIndex];
                    
                    const randomSoundIndex = Math.floor(Math.random() * soundEffects.length);
                    const selectedSound = soundEffects[randomSoundIndex];

                    const effectImage = document.createElement('img');
                    effectImage.className = 'effect-image';
                    effectImage.src = selectedImagePath;
                    effectImage.alt = 'ÁâπÊïàÂõæÁâá';

                    document.body.appendChild(effectImage);

                    if (selectedSound) {
                        selectedSound.currentTime = 0; 
                        selectedSound.play().catch(e => {
                            console.log('Èü≥ÊïàÊí≠ÊîæÂ§±Ë¥•:', e);
                        });
                    }

                    setTimeout(() => {
                        if (effectImage.parentNode) {
                            effectImage.parentNode.removeChild(effectImage);
                        }
                    }, 3000);
                }


                function formatFullDateTime(timestamp){
                    const date = new Date(timestamp);
                    const year = date.getFullYear();
                    const month = (date.getMonth()+1).toString().padStart(2,'0');
                    const day =date.getDate().toString().padStart(2,'0');
                    const hours = date.getHours().toString().padStart(2,'0');
                    const minutes = date.getMinutes().toString().padStart(2,'0');

                    return `${year}Âπ¥${month}Êúà${day}Êó•${hours}:${minutes}`;
                }
                
                function addMessageToContainer(sender,content,timestamp){
                    const messageDiv = document.createElement('div');
                    messageDiv.className = 'message';

                    const timeString = formatFullDateTime(timestamp);

                    messageDiv.innerHTML = `
                    <div class="message-head">
                            <span class="sender">${sender}</span>
                            <span class="timestamp">${timeString}</span>
                        </div>
                        <div class="message-content">${content}</div>`;

                    messageContainer.appendChild(messageDiv);
                }
                sendButton.addEventListener('click',function(){
                    const senderName = senderNameInput.value.trim();
                    const messageText = messageTextInput.value.trim();

                    if (!senderName){
                        alert('ËØ∑ËæìÂÖ•‰Ω†ÁöÑÂêçÂ≠ó');
                        return;
                    }
                    if (!messageText){
                        alert('ËØ∑ËæìÂÖ•Á•ùÁ¶èÂÜÖÂÆπ');
                        return;
                    }
                    const timestamp = Date.now();

                    addMessageToContainer(senderName,messageText,timestamp);

                    senderNameInput.value = '';
                    messageTextInput.value = '';

                     if (!isExistingParticipant(senderName)) {
                        participantCountValue++;
                        participantCount.textContent = participantCountValue;
                        existingParticipants.add(senderName); 
                    }

                    messageContainer.scrollTop = messageContainer.scrollHeight;

                    playRandomEffect();

                    showSuccessMessage();
                    createConfetti();
                });
                 const existingParticipants = new Set();
    
                function isExistingParticipant(name){
                    return existingParticipants.has(name);
                }

                function createConfetti() {
   
                    for (let i = 0; i < 30; i++) {
                        const confetti = document.createElement('div');
                        confetti.className = 'confetti'; 
                        confetti.style.left = Math.random() * 100 + 'vw';
                        confetti.style.backgroundColor = getRandomColor();
                        confetti.style.animation = `confettiFall ${Math.random() * 3 + 2}s linear forwards`;
                        document.body.appendChild(confetti);
                        
                        setTimeout(() => {
                            confetti.remove();
                        }, 5000);
                    }
                    
                    if (!document.querySelector('#confetti-style')) {
                        const style = document.createElement('style');
                        style.id = 'confetti-style'; 
                        style.textContent = `
                            @keyframes confettiFall {
                                0% {
                                    transform: translateY(-100px) rotate(0deg);
                                    opacity: 1;
                                }
                                100% {
                                    transform: translateY(100vh) rotate(360deg);
                                    opacity: 0;
                                }
                            }
                        `;
                        document.head.appendChild(style);
                    }
                }
            
                function getRandomColor() {
                    const colors = ['#ff6b6b', '#4ecdc4', '#45b7d1', '#ffa5a5', '#96ceb4', '#feca57'];
                    return colors[Math.floor(Math.random() * colors.length)];
                }
                function showSuccessMessage() {
                const successMsg = document.createElement('div');
                successMsg.textContent = 'Ê∏©ÊöñÂ∑≤‰º†ÈÄíÔºÅ';
                successMsg.style.position = 'fixed';
                successMsg.style.top = '20px';
                successMsg.style.left = '50%';
                successMsg.style.transform = 'translateX(-50%)';
                successMsg.style.backgroundColor = '#4ecdc4';
                successMsg.style.color = 'white';
                successMsg.style.padding = '10px 20px';
                successMsg.style.borderRadius = '20px';
                successMsg.style.zIndex = '1000';
                successMsg.style.boxShadow = '0 3px 10px rgba(0,0,0,0.2)';
                successMsg.style.animation = 'fadeIn 0.5s, fadeOut 0.5s 2s forwards';
                
                document.body.appendChild(successMsg);
                
                setTimeout(() => {
                    successMsg.remove();
                }, 2500);
                

                if (!document.querySelector('#fadeOut-style')) {
                    const style = document.createElement('style');
                    style.id = 'fadeOut-style';
                    style.textContent = `
                        @keyframes fadeOut {
                            from { opacity: 1; }
                            to { opacity: 0; }
                        }
                    `;
                    document.head.appendChild(style);
                }
            }
            function preloadImages() {
                    imagePaths.forEach(path => {
                        const img = new Image();
                        img.src = path;
                    });
                }
            preloadImages();
        });
        </script>
    </body>
</html>